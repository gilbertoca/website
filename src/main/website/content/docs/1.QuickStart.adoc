:icons: font
:allow-uri-read:
:lnk_minimalInvoice: https://github.com/konik-io/barn/blob/master/konik/src/test/java/io/konik/examples/MinimalInvoice.java
== Quick Start


The following code from the test case {lnk_minimalInvoice}[+MinimalInvoice.java+] represents a valid invoice data according to the ZUGFeRD data model. 

Let us step through the code and take a look at the interesting parts.
[source,java,indent=0]
----
      Invoice invoice = new Invoice(new BasicProfile());# <1>
      invoice.setHeader(new Header().setInvoiceNumber("20131122-42").setCode(_380).setIssued(now).addName("Rechnung"));
      Trade trade = new Trade();
      invoice.setTrade(trade);
      trade.setAgreement(new Agreement().setSellerTradeParty(
            new TradeParty().setName("Seller Inc.").setAddress(new Address("80331", "Marienplatz 1", "München", "DE"))
                  .addTaxRegistration(new TaxRegistration("DE122...", FC))).setBuyerTradeParty(
            new TradeParty().setName("Buyer Inc.").setAddress(new Address("50667", "Domkloster 4", "Köln", "DE"))
                  .addTaxRegistration(new TaxRegistration("DE123...", FC))));
      trade.setDelivery(new Delivery().setEvent(new Event(tomorrow)));
      trade.setSettlement(new Settlement()
            .setPaymentReference("20131122-42")
            .setCurrency(EUR)
            .addPaymentMeans(
                  new PaymentMeans().setPayerAccount(new FinancialAccount("DE01234..")).setPayerInstitution(
                        new FinancialInstitution("GENO...")))
            .setMonetarySummation(
                  new MonetarySummation().setNetTotal(new Amount(100, EUR)).setTaxTotal(new Amount(19, EUR))
                        .setGrandTotal(new Amount(119, EUR))));
      trade.addItem(new Item().setProduct(new Product().setName("Saddle").addOrigins(DE)));
      
   
      JAXBContext jaxb = JAXBContext.newInstance("io.konik.zugferd"); # <2>
      Marshaller marshaller = jaxb.createMarshaller();
      marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);//prettify xml output for humans
      ByteArrayOutputStream os = new ByteArrayOutputStream();
      marshaller.marshal(invoice, os);

      System.out.println(os.toString());//XML on Console
----
<1> A new invoice instance with one of the three allowed profiles. BASIC, COMPFORT or EXTENDED
<2> After filling the invoice with data create a new JAXB Context with path +io.konik.zugferd+.


 
